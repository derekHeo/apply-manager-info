<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>AI 취업 어시스턴트 — Architecture</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      width: 100%; height: 100%;
      overflow: hidden;
    }

    body {
      font-family: Pretendard, -apple-system, sans-serif;
      background: #fff;
      color: #1a1a1a;
      display: flex;
      justify-content: center;
      align-items: center;
      -webkit-font-smoothing: antialiased;
    }

    .page {
      width: 1200px;
      height: 820px;
      padding: 1.6rem 2rem 1rem;
      display: flex;
      flex-direction: column;
    }

    /* ── Title ─────────────────────── */
    .title {
      text-align: center;
      margin-bottom: 1.1rem;
      flex-shrink: 0;
    }
    .title h1 {
      font-size: 1.25rem;
      font-weight: 800;
      letter-spacing: -0.3px;
    }
    .title h1 span { color: #ff5c00; }
    .title p {
      font-size: 0.68rem;
      color: #999;
      margin-top: 0.15rem;
    }

    /* ── Main 3-column layout ─────── */
    .main {
      display: grid;
      grid-template-columns: 260px 1fr 220px;
      gap: 0;
    }

    /* ── Left column: Client ──────── */
    .col-left {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding-right: 0.8rem;
    }

    /* ── Center column: Backend ───── */
    .col-center {
      border-left: 1.5px solid #e0e0e0;
      border-right: 1.5px solid #e0e0e0;
      padding: 0 0.8rem;
      display: flex;
      flex-direction: column;
    }

    /* ── Right column: Infra ──────── */
    .col-right {
      padding-left: 0.8rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    /* ── Section label ────────────── */
    .sec-label {
      font-size: 0.6rem;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #ff5c00;
      margin-bottom: 0.4rem;
    }

    /* ── Box ───────────────────────── */
    .box {
      border: 1.2px solid #d8d8d8;
      border-radius: 7px;
      background: #fafafa;
      padding: 0.55rem 0.6rem;
      position: relative;
    }
    .box-label {
      position: absolute;
      top: -0.45rem;
      left: 0.6rem;
      background: #fafafa;
      padding: 0 0.35rem;
      font-size: 0.52rem;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #aaa;
    }
    .box + .box { margin-top: 0.45rem; }

    /* ── Card ──────────────────────── */
    .card {
      border: 1.2px solid #e8e8e8;
      border-radius: 5px;
      padding: 0.4rem 0.5rem;
      background: #fff;
      text-align: center;
    }
    .card h4 {
      font-size: 0.68rem;
      font-weight: 700;
      margin-bottom: 0.2rem;
    }
    .card p {
      font-size: 0.56rem;
      color: #888;
      line-height: 1.45;
    }
    .card ul {
      list-style: none;
      padding: 0;
      font-size: 0.56rem;
      color: #777;
      line-height: 1.5;
      text-align: left;
    }
    .card ul li { padding-left: 0.6rem; position: relative; }
    .card ul li::before {
      content: "·";
      position: absolute;
      left: 0;
      color: #ff5c00;
      font-weight: 700;
    }

    .card.accent {
      border-color: #ff5c00;
      background: #fffaf6;
    }
    .card.accent h4 { color: #ff5c00; }

    .card.db {
      border-color: #4285f4;
      background: #f8faff;
    }
    .card.db h4 { color: #4285f4; }

    .card.infra {
      border-color: #0d8a42;
      background: #f4faf6;
    }
    .card.infra h4 { color: #0d8a42; }

    /* ── Tag ───────────────────────── */
    .tag {
      display: inline-block;
      font-size: 0.48rem;
      font-weight: 600;
      padding: 0.1rem 0.35rem;
      border-radius: 3px;
      background: #f0f0f0;
      color: #666;
      margin: 0.1rem 0.05rem;
    }
    .tag.o { background: #fff0e0; color: #d04a00; }
    .tag.b { background: #e8f0fe; color: #2962ff; }
    .tag.g { background: #e6f7ed; color: #0d8a42; }
    .tag.p { background: #f3e8ff; color: #7c3aed; }

    .tags { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.15rem; margin-top: 0.25rem; }

    /* ── Grid helpers ──────────────── */
    .g2 { display: grid; grid-template-columns: 1fr 1fr; gap: 0.4rem; }
    .g3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.4rem; }
    .g4 { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 0.4rem; }

    /* ── Arrow (vertical) ─────────── */
    .arrow-v {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0.25rem 0;
      flex-shrink: 0;
    }
    .arrow-v .line {
      width: 1.2px;
      height: 14px;
      background: #ccc;
    }
    .arrow-v .head {
      width: 0; height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 5px solid #ccc;
    }
    .arrow-v .lbl {
      font-size: 0.5rem;
      color: #bbb;
      font-weight: 600;
      margin-bottom: 0.1rem;
    }

    /* ── Arrow (horizontal) ───────── */
    .arrow-h {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.1rem 0;
      gap: 0.2rem;
      flex-shrink: 0;
    }
    .arrow-h .line {
      height: 1.2px;
      width: 20px;
      background: #ccc;
    }
    .arrow-h .head {
      width: 0; height: 0;
      border-top: 4px solid transparent;
      border-bottom: 4px solid transparent;
      border-left: 5px solid #ccc;
    }
    .arrow-h .lbl {
      font-size: 0.5rem;
      color: #bbb;
      font-weight: 600;
    }

    /* ── Data Flow (bottom strip) ─── */
    .flow-strip {
      flex-shrink: 0;
      border-top: 1.2px solid #e0e0e0;
      margin-top: 0.4rem;
      padding-top: 0.35rem;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 1rem;
    }

    .flow-group h5 {
      font-size: 0.58rem;
      font-weight: 700;
      color: #ff5c00;
      margin-bottom: 0.3rem;
      letter-spacing: 0.03em;
    }

    .flow-steps {
      display: flex;
      align-items: center;
      gap: 0.2rem;
      flex-wrap: wrap;
    }

    .fs {
      font-size: 0.52rem;
      font-weight: 600;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      background: #f5f5f5;
      border: 1px solid #e4e4e4;
      color: #555;
      white-space: nowrap;
    }
    .fs.hi {
      background: #fff4e8;
      border-color: #ffc888;
      color: #b03a00;
    }
    .fa {
      font-size: 0.6rem;
      color: #ccc;
      font-weight: 700;
    }

    /* ── Footer ────────────────────── */
    .footer {
      text-align: center;
      font-size: 0.52rem;
      color: #ccc;
      margin-top: 0.5rem;
      flex-shrink: 0;
    }

    /* ── Backend inner layout ─────── */
    .backend-inner {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }
  </style>
</head>
<body>
  <div class="page">

    <div class="title">
      <h1>AI 취업 어시스턴트<span>.</span> System Architecture</h1>
      <p>Full-stack AI-powered Job Application Management Service</p>
    </div>

    <!-- ═══ Main 3-column ═══ -->
    <div class="main">

      <!-- ── LEFT: Client ──────────── -->
      <div class="col-left">
        <div class="sec-label">Client</div>

        <div class="box">
          <span class="box-label">Chrome Extension · WXT Manifest V3</span>
          <div style="margin-top: 0.15rem; display: flex; flex-direction: column; gap: 0.35rem;">
            <div class="card">
              <h4>Side Panel</h4>
              <p>React · Tailwind CSS</p>
              <ul>
                <li>로그인 · 프로필 요약</li>
                <li>Fill 진행률 · 일시정지/취소</li>
              </ul>
            </div>
            <div class="card">
              <h4>Background Service Worker</h4>
              <ul>
                <li>JWT 관리 · Orchestration</li>
                <li>필드 매핑 캐시 (24h TTL)</li>
              </ul>
            </div>
            <div class="card">
              <h4>Content Script</h4>
              <ul>
                <li>DOM 분석 · 필드 추출 (XPath)</li>
                <li>순차 Auto-Fill · 하이라이트</li>
                <li>민감 필드 이중 감지</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="box">
          <span class="box-label">Web Frontend</span>
          <div class="card" style="margin-top: 0.15rem;">
            <h4>Next.js 16 · App Router</h4>
            <p>React 19 · TypeScript · Tailwind CSS<br>shadcn/ui · Zustand</p>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:0.2rem; margin-top:0.35rem;">
              <div style="font-size:0.52rem; color:#666; padding:0.2rem; background:#f3f3f3; border-radius:3px;">Dashboard</div>
              <div style="font-size:0.52rem; color:#666; padding:0.2rem; background:#f3f3f3; border-radius:3px;">공고 관리</div>
              <div style="font-size:0.52rem; color:#666; padding:0.2rem; background:#f3f3f3; border-radius:3px;">자소서 편집</div>
              <div style="font-size:0.52rem; color:#666; padding:0.2rem; background:#f3f3f3; border-radius:3px;">프로필 관리</div>
            </div>
          </div>
        </div>

        <div style="text-align:center;">
          <div class="tags">
            <span class="tag p">Google OAuth 2.0</span>
            <span class="tag p">JWT (HS256)</span>
          </div>
        </div>
      </div>

      <!-- ── CENTER: Backend ───────── -->
      <div class="col-center">
        <div class="sec-label">Backend · FastAPI · Python 3.12</div>

        <div class="backend-inner">
          <!-- Router -->
          <div class="card">
            <h4>Router Layer (API)</h4>
            <div class="tags">
              <span class="tag">Auth</span>
              <span class="tag">Profile</span>
              <span class="tag">Postings</span>
              <span class="tag">Cover Letters</span>
              <span class="tag">Applications</span>
              <span class="tag">Extension</span>
            </div>
          </div>

          <div class="arrow-v">
            <div class="line"></div>
            <div class="head"></div>
          </div>

          <!-- Service -->
          <div class="g3">
            <div class="card">
              <h4>Service Layer</h4>
              <ul>
                <li>비즈니스 로직</li>
                <li>BackgroundTasks</li>
                <li>Polling 상태 관리</li>
              </ul>
            </div>
            <div class="card accent">
              <h4>AI Services</h4>
              <ul>
                <li>공고 파싱</li>
                <li>적합도 분석</li>
                <li>자소서 생성</li>
                <li>필드 매핑</li>
                <li>이력서/포트폴리오 파싱</li>
              </ul>
              <div class="tags">
                <span class="tag o">Claude API</span>
                <span class="tag o">Prompt Eng.</span>
              </div>
            </div>
            <div class="card">
              <h4>Crawler</h4>
              <ul>
                <li>httpx (정적 페이지)</li>
                <li>Playwright (동적 Fallback)</li>
                <li>BS4 + lxml 파싱</li>
              </ul>
            </div>
          </div>

          <div class="arrow-v">
            <div class="line"></div>
            <div class="head"></div>
          </div>

          <!-- Repository + DB -->
          <div class="g2">
            <div class="card">
              <h4>Repository Layer</h4>
              <p>SQLAlchemy 2.0 (Async)<br>Alembic Migration</p>
              <div class="tags">
                <span class="tag">UserProfile</span>
                <span class="tag">JobPosting</span>
                <span class="tag">CoverLetter</span>
                <span class="tag">Application</span>
              </div>
            </div>
            <div class="card db">
              <h4>PostgreSQL 16</h4>
              <p>asyncpg · JSONB Columns</p>
              <div class="tags">
                <span class="tag b">user_profiles</span>
                <span class="tag b">job_postings</span>
                <span class="tag b">cover_letters</span>
                <span class="tag b">applications</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ── RIGHT: Infra ──────────── -->
      <div class="col-right">
        <div class="sec-label">Infrastructure</div>

        <div class="card infra">
          <h4>AWS EC2</h4>
          <p>ARM64 · Graviton · t4g.micro</p>
          <p>Amazon Linux 2023</p>
        </div>

        <div class="card infra">
          <h4>AWS RDS</h4>
          <p>PostgreSQL 16 · db.t4g.micro</p>
          <p>Private Subnet</p>
        </div>

        <div class="card infra">
          <h4>AWS ECR</h4>
          <p>Container Image Registry</p>
          <div class="tags">
            <span class="tag g">backend</span>
            <span class="tag g">frontend</span>
          </div>
        </div>

        <div style="border-top: 1px solid #e8e8e8; margin: 0.2rem 0; padding-top: 0.4rem;">
          <div class="sec-label">DevOps</div>
        </div>

        <div class="card">
          <h4>Docker</h4>
          <p>Multi-stage Build · Compose</p>
        </div>

        <div class="card">
          <h4>Caddy 2</h4>
          <p>Reverse Proxy · Auto HTTPS<br>(Let's Encrypt)</p>
        </div>

        <div class="card">
          <h4>GitHub Actions</h4>
          <p>CI/CD Pipeline · OIDC Auth</p>
        </div>
      </div>

    </div>

    <!-- ═══ Data Flow (bottom) ═══ -->
    <div class="flow-strip">
      <div class="flow-group">
        <h5>Flow 1 — 공고 분석</h5>
        <div class="flow-steps">
          <span class="fs">URL 입력</span>
          <span class="fa">→</span>
          <span class="fs">크롤링</span>
          <span class="fa">→</span>
          <span class="fs hi">LLM 파싱</span>
          <span class="fa">→</span>
          <span class="fs">구조화 저장</span>
        </div>
      </div>
      <div class="flow-group">
        <h5>Flow 2 — 자소서 생성</h5>
        <div class="flow-steps">
          <span class="fs">프로필+공고</span>
          <span class="fa">→</span>
          <span class="fs hi">LLM 생성</span>
          <span class="fa">→</span>
          <span class="fs">Q&A 저장</span>
          <span class="fa">→</span>
          <span class="fs">편집·재생성</span>
        </div>
      </div>
      <div class="flow-group">
        <h5>Flow 3 — Auto-Fill</h5>
        <div class="flow-steps">
          <span class="fs">DOM 분석</span>
          <span class="fa">→</span>
          <span class="fs hi">LLM 매핑</span>
          <span class="fa">→</span>
          <span class="fs">순차 입력</span>
          <span class="fa">→</span>
          <span class="fs">사용자 검토</span>
        </div>
      </div>
    </div>

    <div class="footer">
      Fig 1. AI 취업 어시스턴트 — System Architecture Overview
    </div>

  </div>
</body>
</html>
